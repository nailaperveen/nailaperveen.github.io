<!DOCTYPE html>
<html lang="en">

<head>
    	<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    	<title>Learn Python</title>

    	<!-- Bootstrap -->
    	<link href="../css/bootstrap.min.css" rel="stylesheet">
	<link rel="import" href="../import.html">
</head>


<body ng-app="myApp" ng-controller="myCtrl">


	<div class="container">
		<div id="subcontainer"></div>
                <script>
		    var link = document.querySelector('link[rel="import"]');

		    // Clone the <template> in the import.
		    var template = link.import.querySelector('template');
		    var clone = document.importNode(template.content, true);

		    document.querySelector('#subcontainer').appendChild(clone);
		  </script>

  		<div class="row">
    			<nav class="navbar navbar-default">
  				<div class="container">
    					<!-- Brand and toggle get grouped for better mobile display -->
    					<div class="navbar-header">
      						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
      						<a class="navbar-brand" href="../index.html">Home</a>
    					</div>

    					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav">
							<li class="active"><a href="../index_/schedule.html">Schedule <span class="sr-only">(current)</span></a></li>
							<li><a href="../index_/resources.html">Resources</a></li>
						</ul> 
					</div><!-- /.navbar-collapse -->
 				</div>
			</nav>
		</div>

		<div class="row">
			<div class="container page-header alert-success">
				<h1> Reading Files</h1>
			</div>
		</div>

		<div class="row">
			<div class=" panel panel-info">
		  		<!-- Default panel contents -->
		  		<div class="panel-heading">Objectives</div>
		  		<div class="panel-body">
					<p>1. To know what is a file, How to read and write file</p>
					<p>2. To know what is a library?</p>
					
		  		</div>

		 		<ul class="list-group">
					<li class="list-group-item">Duration: 20 min</li>
					<li class="list-group-item">Exercise : 2</li>
				   
				</ul>
			</div>
		</div>


	  	<div >We usually store our data in a file. A file is a collection of data. The data may be of different types. The extension of file tells us about the content of file e.g. if a file has extension .doc, it means it is a document. similarly .dat or .data shows that the file contains rows and columns of data, .csv means a file with comma separated values, .xlsx shows an excel worksheet etc. Images are usually stored with the extensions of png, jpg, bmp, gif etc.</div>
		
		<br><br>
		
		<div>
			<h4> <span class="label label-warning"> Modes of Files </span></h4>
			
			<p>A file can be opened in any specific mode. We have different modes to open a file including(r, w, a, r+, w+, ...). To read a file we open it in <strong>r</strong> mode. To write a file open it in <strong>w</strong> mode. To append a file open it in <strong>a</strong> mode, To read and write both open in <strong>r+</strong> or <strong>w+</strong> mode. There are some other modes as well but most commonly used are <strong>r, w and a </strong>modes. Here to read our file, open it in 'r' mode.
 
			</p>
		</div>
		<br><br>
		<div>
			<h4> <span class="label label-warning"> Reading Files </span></h4>
			<p > To read a file we have read() and readline() functions. The difference between them is that read() reads the entire file at once. while readline() reads a file line by line. Suppose there is a text file "greet.txt". which contains only two lines of data. To read this file we will write:</p>
		</div>
		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
			    	
				f = open('greet.txt','r')<br>
				print ("Read the entire file")<br>
				print("*************************")<br>
				print(f.read())<br>
				f.close()<br>
				print()<br>
				f = open('greet.txt','r')<br>
				print("Read file line by line")<br>
				print("*************************")<br>
				print(f.readline())<br>
				print(f.readline())<br>
				f.close()<br>
				    
				
				
  			</div>
		</div>
		<div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				  Read the entire file<br>
				*************************<br>
				Hello Good Morning<br>
				Have a nice weekend!<br><br>


				Read file line by line<br>
				*************************<br>
				Hello Good Morning<br>
				Have a nice weekend!<br>

				
  			</div>
		</div>

		<br><br>



		<div><p> 
			variable f is file pointer here. we will use this variable to perform all operations on file. after completing our work it is necessary to close the file. Please note that to use readline() function after read() we have closed the file and then opened again. Is it necessary to do? Can't we read the file again if it is already open? The answer is no. because the file pointer (f here) moves from start to end, once we read entire file. To read it again there is a need to reset pointer again in the beginning of file.
		</p></div>


		<div><p> 
			Most of the times we dont know in advance that how many lines are there in input file. Rather than using readline() function multiple times we run a loop which reads the file line by line. In this script we are reading a file and store its data in a list for further processing.
		</p></div>

		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
			    	data=[]<br>
				with open('sample.txt','r') as input:<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;for reader in input:<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#rstrip to remove \n character<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader = reader.rstrip()<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.append(reader)<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;input.closed <br>
				&nbsp;&nbsp;&nbsp;&nbsp;for line in data:<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(line)<br>
				&nbsp;&nbsp;&nbsp;&nbsp;output.close()<br>				
				
  			</div>
		</div>
		<div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				  alpha=    0.0056<br><br>
	beta &nbsp;&nbsp;&nbsp;&nbsp;      s(alpha,beta) &nbsp;&nbsp;&nbsp;&nbsp;     ss(alpha,beta)  &nbsp;&nbsp;&nbsp;&nbsp;   ss(alpha,-beta)<br>
	0.0000   &nbsp;&nbsp;&nbsp;&nbsp;    6.73863E-02    &nbsp;&nbsp;&nbsp;&nbsp;     6.73863E-02   &nbsp;&nbsp;&nbsp;&nbsp;      6.73863E-02<br>
	0.0092    &nbsp;&nbsp;&nbsp;&nbsp;   6.24399E-02      &nbsp;&nbsp;&nbsp;&nbsp;   6.21529E-02    &nbsp;&nbsp;&nbsp;&nbsp;     6.27282E-02<br>
	0.0184    &nbsp;&nbsp;&nbsp;&nbsp;   5.39805E-02    &nbsp;&nbsp;&nbsp;&nbsp;     5.34855E-02     &nbsp;&nbsp;&nbsp;&nbsp;    5.44800E-02<br>
	0.0276    &nbsp;&nbsp;&nbsp;&nbsp;   5.20330E-02    &nbsp;&nbsp;&nbsp;&nbsp;     5.13190E-02     &nbsp;&nbsp;&nbsp;&nbsp;    5.27569E-02<br>
	0.0368    &nbsp;&nbsp;&nbsp;&nbsp;  5.06335E-02     &nbsp;&nbsp;&nbsp;&nbsp;    4.97091E-02      &nbsp;&nbsp;&nbsp;&nbsp;   5.15750E-02<br><br>
				  alpha=    0.0078<br><br>
	beta   &nbsp;&nbsp;&nbsp;&nbsp;    s(alpha,beta)   &nbsp;&nbsp;&nbsp;&nbsp;   ss(alpha,beta) &nbsp;&nbsp;&nbsp;&nbsp;    ss(alpha,-beta)<br>
	0.0000   &nbsp;&nbsp;&nbsp;&nbsp;    9.33340E-02     &nbsp;&nbsp;&nbsp;&nbsp;    9.33340E-02     &nbsp;&nbsp;&nbsp;&nbsp;    9.33340E-02<br>
	0.0092  &nbsp;&nbsp;&nbsp;&nbsp;     8.65313E-02     &nbsp;&nbsp;&nbsp;&nbsp;    8.61337E-02     &nbsp;&nbsp;&nbsp;&nbsp;    8.69308E-02<br>
	0.0184  &nbsp;&nbsp;&nbsp;&nbsp;     7.48869E-02     &nbsp;&nbsp;&nbsp;&nbsp;    7.42002E-02    &nbsp;&nbsp;&nbsp;&nbsp;     7.55800E-02<br>
	0.0276   &nbsp;&nbsp;&nbsp;&nbsp;    7.21251E-02     &nbsp;&nbsp;&nbsp;&nbsp;    7.11354E-02     &nbsp;&nbsp;&nbsp;&nbsp;    7.31285E-02<br>
	0.0368   &nbsp;&nbsp;&nbsp;&nbsp;    7.01054E-02     &nbsp;&nbsp;&nbsp;&nbsp;    6.88256E-02     &nbsp;&nbsp;&nbsp;&nbsp;    7.14090E-02<br><br>
				 alpha=    0.0099<br><br>
	beta   &nbsp;&nbsp;&nbsp;&nbsp;    s(alpha,beta)   &nbsp;&nbsp;&nbsp;&nbsp;   ss(alpha,beta)  &nbsp;&nbsp;&nbsp;&nbsp;   ss(alpha,-beta)<br>
	0.0000   &nbsp;&nbsp;&nbsp;&nbsp;    1.18383E-01     &nbsp;&nbsp;&nbsp;&nbsp;    1.18383E-01     &nbsp;&nbsp;&nbsp;&nbsp;    1.18383E-01<br>
	0.0092   &nbsp;&nbsp;&nbsp;&nbsp;    1.09814E-01     &nbsp;&nbsp;&nbsp;&nbsp;    1.09309E-01      &nbsp;&nbsp;&nbsp;&nbsp;   1.10320E-01<br>
	0.0184   &nbsp;&nbsp;&nbsp;&nbsp;    9.51322E-02     &nbsp;&nbsp;&nbsp;&nbsp;    9.42598E-02      &nbsp;&nbsp;&nbsp;&nbsp;   9.60126E-02<br>
	0.0276   &nbsp;&nbsp;&nbsp;&nbsp;    9.15514E-02     &nbsp;&nbsp;&nbsp;&nbsp;    9.02952E-02      &nbsp;&nbsp;&nbsp;&nbsp;   9.28252E-02<br>
	0.0368   &nbsp;&nbsp;&nbsp;&nbsp;    8.88917E-02     &nbsp;&nbsp;&nbsp;&nbsp;    8.72689E-02     &nbsp;&nbsp;&nbsp;&nbsp;    9.05447E-02<br>

<br>
				
  			</div>
		</div>

		<br><br>
		
		<div>
			
			<p > Usually at the end of each line in a file, there is an "end of line" character(\n). When we read data from file, we have to remove this character. split function breaks a string into multiple substrings based on given character and returns a list. append function is used to insert a new item into list.
			</p>
		</div>





		<br><br>
		<div><h4> <span class="label label-warning"> Writing Files </span></h4>
			Lets do something more practical. Suppose we have to extract data of first column for each alpha value in a separte file.
To do so we will break each line of data into an array using split function and then append in our data list. Then write this data into output file.
		</div>




		<br><br>


		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
			    	data=[]<br>
				with open('sample.txt','r') as input:<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;for reader in input:<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#rstrip to remove \n character<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader = reader.rstrip()<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp = reader.split('       ')  <br>      
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data.append(tmp[0] + " " +tmp[1])<br>
				&nbsp;&nbsp;&nbsp;&nbsp;with open('data.txt','w') as output: <br>
				    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for line in data:<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output.write(line + "\n")<br>
				    
				
				
  			</div>
		</div>
		<div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				  Output: A file with the name data.txt is created which contains following data.
					alpha= 0.0056<br>
					beta &nbsp;&nbsp;&nbsp;&nbsp; s(alpha,beta)<br>
					0.0000 &nbsp;&nbsp;&nbsp;&nbsp; 6.73863E-02<br>
					0.0092 &nbsp;&nbsp;&nbsp;&nbsp; 6.24399E-02<br>
					0.0184 &nbsp;&nbsp;&nbsp;&nbsp; 5.39805E-02<br>
					0.0276 &nbsp;&nbsp;&nbsp;&nbsp; 5.20330E-02<br>
					0.0368 &nbsp;&nbsp;&nbsp;&nbsp; 5.06335E-02<br>
					alpha= 0.0078<br>
					beta &nbsp;&nbsp;&nbsp;&nbsp; s(alpha,beta)<br>
					0.0000 &nbsp;&nbsp;&nbsp;&nbsp; 9.33340E-02<br>
					0.0092 &nbsp;&nbsp;&nbsp;&nbsp; 8.65313E-02<br>
					0.0184 &nbsp;&nbsp;&nbsp;&nbsp; 7.48869E-02<br>
					0.0276 &nbsp;&nbsp;&nbsp;&nbsp; 7.21251E-02<br>
					0.0368 &nbsp;&nbsp;&nbsp;&nbsp; 7.01054E-02<br>
					alpha= 0.0099<br>
					beta &nbsp;&nbsp;&nbsp;&nbsp; s(alpha,beta)<br>
					0.0000 &nbsp;&nbsp;&nbsp;&nbsp; 1.18383E-01<br>
					0.0092 &nbsp;&nbsp;&nbsp;&nbsp; 1.09814E-01<br>
					0.0184 &nbsp;&nbsp;&nbsp;&nbsp; 9.51322E-02<br>
					0.0276 &nbsp;&nbsp;&nbsp;&nbsp; 9.15514E-02<br>
					0.0368 &nbsp;&nbsp;&nbsp;&nbsp; 8.88917E-02<br>

				
  			</div>
		</div>

		<br><br>




		<div>
			<h4> <span class="label label-warning"> Append Files </span></h4>
			<p > To append some data in a file we open it in "a" mode. usually the new data inserts at the end of file.
			</p>
		</div>
		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
    				f = open('greet.txt','a')<br>
				f.write("adding one more line in file .......")<br>
                                f.write("End of file")<br>
				f.close()<br>
				
				f = open('greet.txt','r')<br>
				print("Read file line by line")<br>
				print("*************************")<br>
				print(f.readline())<br>
				print(f.readline())<br>
 				print(f.readline())<br>
				f.close()<br>
				    
  			</div>
		</div>

                <div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				Read file line by line<br>
				*************************<br>
				Hello Good Morning<br>
				Have a nice weekend!<br>
				adding one more line in file .......End of file

				
  			</div>
		</div>

		<br><br>

		<div> <h4> <span class="label label-warning"> Saving File in Other Formats </span></h4>
			<p>
				please note that we have added two write statements but the output is in a single line. This is because we didn't add line terminator at the end of write statement. We can save our files in some different formats using panda. suppose we want to save our file as excel.
			</p>	
		</div>
	
		

		<br><br>

				<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
    				import pandas as pd<br>

				# Create a Pandas dataframe from the data.<br>
				df = pd.DataFrame({'Data': [10, 20, 30, 20, 15, 30, 45],'Square':[10**2, 20**2, 30**2, 20**2, 15**2, 30**2, 45**2,})<br>

				# Create a Pandas Excel writer using XlsxWriter as the engine.<br>
				writer = pd.ExcelWriter('pandas_simple.xlsx', engine='xlsxwriter')<br>

				# Convert the dataframe to an XlsxWriter Excel object.<br>
				df.to_excel(writer, sheet_name='Sheet1')<br>

				# Close the Pandas Excel writer and output the Excel file.<br>
				writer.save()<br>
				    
  			</div>
		</div>

                <div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				<img src="../images/panda.png" width=300 height=300>
				
  			</div>
		</div>

		<br><br>



		<div> <h4> <span class="label label-warning"> Convert an existing File in Excel Format </span></h4>
			<p>
				Let suppose we have a txt file contains following data and we want to convert it into excel.
				<br> list.txt <br>
				10 100 1000<br>
				6 36 266<br>
				45 90 182<br>
				12 67 74<br>
				100 120 140<br>
				34 98 25<br>
				89 83 83<br>
				73 45 73<br>
			</p>	
		</div>
	
		

		<br><br>

				<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
    				import pandas as pd<br>
				data = pd.read_csv('list.txt', sep=" ")<br>
				df = pd.DataFrame(data)<br>
				writer = pd.ExcelWriter('list.xlsx')<br>
				df.to_excel(writer,sheet_name='Sheet')<br>
				writer.save()


  			</div>
		</div>

                <div class="panel panel-default" style="border-left: 6px solid brown;">
  			<div class="panel-body">
    				<img src="../images/panda2.png" width=300 height=300>
				
  			</div>
		</div>

		<br><br>


		<div> <h4> <span class="label label-warning"> Rename File </span></h4>
			<p>
				To rename a file we can use a system library os
				
			</p>	
		</div>
	
		

		<br><br>

		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
    				import os<br>
                                os.rename("file1.txt", "test.txt")

  			</div>
		</div>

                
		<br><br>
		<div> <h4> <span class="label label-warning"> Remove File </span></h4>
			<p>
				To delete a file from computer we can use remove command
				
			</p>	
		</div>
	
		

		<br><br>

		<div class="panel panel-default" style="border-left: 6px solid #646D7E;">
  			<div class="panel-body">
    				import os<br>
                                os.remove("test.txt")

  			</div>
		</div>

                
		<br><br>

		<div class="panel" >
			<a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style='text-align:left'>
				<u>greet.txt</u><br>
				Hello Good Morning<br>
				Have a nice weekend!<br>
				adding one more line in file .......End of file<br><br>
				Q. What will be the ouput of given code?<br><br>
				with open("greet.txt", "r") as f:<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;data = f.readlines()<br>
				 
				for line in data:<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;words = line.split()<br>
				    &nbsp;&nbsp;&nbsp;&nbsp;print (words)<br><br>
				
				hint: readlines() is used to read all lines from file and create a list where each item in the list is a line from file
			</a>
		</div>
		<div class="collapse" id="collapseTwo">
			<div class="well">
		    	['Hello', 'Good', 'Morning']<br>
			['Have', 'a', 'nice', 'weekend!']<br>
			['adding', 'one', 'more', 'line', 'in', 'file', '.......End', 'of', 'file']

			</div>
		</div>

		<br><br>


	      
<div class="page-header alert-success" style="box-shadow: 6px 6px 5px 0px grey">
  <p> <a href="06-functions-py.html">Next >> Functions </a> </p>
</div>

	</div><!-- /.container-fluid -->



<script src="../js/angular.min.js"></script>
	
	
	<script src = "../js/jquery.min.js"> </script>

	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="../js/bootstrap.min.js"></script>

	<script>
		var app = angular.module('myApp', []);
		app.controller('myCtrl', function($scope)
		{
	    		$scope.section1 = "Python is freeware. We call such a software as open source software. Open source means we can get the entire system for free over the Internet. There are no restrictions on copying it, embedding it in systems, or shipping it with products. Python is written in portable ANSI C, and compiles and runs on virtually every major platform in use today. For example, it runs on Unix systems, Linux, MS-DOS, MS-Windows (95, 98, NT), Macintosh, Amiga, Be-OS, OS/2, VMS, QNX, and more. Python provides all the simplicity and ease of use of a scripting language, along with more advanced programming tools typically found in systems development languages. It is a powerful language.";
	    		

		});
	</script>

</body>
</html>
